@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Portal-themed color scheme */
  --background: 210 11% 4%; /* #0a0a0a - deep space black */
  --foreground: 120 100% 65%; /* #00ff41 - portal green */
  --muted: 0 0% 10%; /* #1a1a1a - dark gray */
  --muted-foreground: 120 100% 55%; /* #00cc33 - darker portal green */
  --popover: 220 13% 7%; /* rgba(17, 24, 39, 0.95) - glass background */
  --popover-foreground: 120 100% 65%; /* #00ff41 */
  --card: 220 13% 7%; /* rgba(17, 24, 39, 0.95) */
  --card-foreground: 120 100% 65%; /* #00ff41 */
  --border: 120 100% 25%; /* portal green with low opacity */
  --input: 220 13% 7%; /* dark input background */
  --primary: 120 100% 65%; /* #00ff41 - portal green */
  --primary-foreground: 210 11% 4%; /* black text on portal green */
  --secondary: 220 13% 10%; /* dark secondary */
  --secondary-foreground: 120 100% 75%; /* #00ff88 - light portal green */
  --accent: 220 13% 10%; /* dark accent */
  --accent-foreground: 120 100% 75%; /* light portal green */
  --destructive: 0 84% 60%; /* red for destructive actions */
  --destructive-foreground: 0 0% 98%; /* white text */
  --ring: 120 100% 65%; /* portal green ring */
  --radius: 0.75rem; /* rounded corners */

  /* Rick and Morty specific colors */
  --portal-green: 120 100% 65%; /* #00ff41 */
  --portal-green-dark: 120 100% 40%; /* #00cc33 */
  --portal-green-light: 120 100% 75%; /* #00ff88 */
  --rick-bg: 210 11% 4%; /* #0a0a0a */
  --rick-bg-light: 0 0% 10%; /* #1a1a1a */
  --glass-bg: 220 13% 7%; /* rgba(17, 24, 39, 0.95) */
}

.dark {
  /* Same as root since we're already dark themed */
  --background: 210 11% 4%;
  --foreground: 120 100% 65%;
  --muted: 0 0% 10%;
  --muted-foreground: 120 100% 55%;
  --popover: 220 13% 7%;
  --popover-foreground: 120 100% 65%;
  --card: 220 13% 7%;
  --card-foreground: 120 100% 65%;
  --border: 120 100% 25%;
  --input: 220 13% 7%;
  --primary: 120 100% 65%;
  --primary-foreground: 210 11% 4%;
  --secondary: 220 13% 10%;
  --secondary-foreground: 120 100% 75%;
  --accent: 220 13% 10%;
  --accent-foreground: 120 100% 75%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --ring: 120 100% 65%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Inter', system-ui, sans-serif;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary/50 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-primary/70;
  }
}

@layer components {
  /* Portal-themed glassmorphism */
  .glass-morphism {
    background: rgba(17, 24, 39, 0.95);
    backdrop-filter: blur(16px);
    border: 1px solid hsl(var(--border));
  }

  /* Portal glow effects */
  .portal-glow {
    box-shadow: 0 0 20px hsla(var(--portal-green) / 0.3);
  }

  .portal-glow-strong {
    box-shadow: 0 0 30px hsla(var(--portal-green) / 0.5), 
                0 0 60px hsla(var(--portal-green) / 0.3);
  }

  .text-glow {
    text-shadow: 0 0 10px hsla(var(--portal-green) / 0.5);
  }

  .text-glow-strong {
    text-shadow: 0 0 20px hsla(var(--portal-green) / 0.8), 
                 0 0 30px hsla(var(--portal-green) / 0.5);
  }

  /* Character sprite base styles */
  .character-sprite {
    @apply relative flex items-center justify-center rounded-full;
    background: linear-gradient(45deg, hsl(var(--portal-green)), hsl(var(--portal-green-dark)));
  }

  /* Animation keyframes */
  @keyframes portal-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px hsla(var(--portal-green) / 0.3);
    }
    50% { 
      box-shadow: 0 0 40px hsla(var(--portal-green) / 0.8);
    }
  }

  @keyframes float {
    0%, 100% { 
      transform: translateY(0px);
    }
    50% { 
      transform: translateY(-10px);
    }
  }

  @keyframes glow {
    0% { 
      text-shadow: 0 0 5px hsla(var(--portal-green) / 0.5);
    }
    100% { 
      text-shadow: 0 0 20px hsla(var(--portal-green) / 1), 
                   0 0 30px hsla(var(--portal-green) / 0.5);
    }
  }

  @keyframes typewriter {
    0% { width: 0; }
    50% { width: 100%; }
    100% { width: 0; }
  }

  @keyframes particle-float {
    0%, 100% {
      transform: translateY(0) translateX(0);
      opacity: 0.3;
    }
    33% {
      transform: translateY(-20px) translateX(10px);
      opacity: 0.7;
    }
    66% {
      transform: translateY(-10px) translateX(-5px);
      opacity: 0.5;
    }
  }

  @keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes spin-reverse {
    from { transform: rotate(360deg); }
    to { transform: rotate(0deg); }
  }

  /* Animation utilities */
  .animate-portal-pulse {
    animation: portal-pulse 2s ease-in-out infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }

  .animate-typewriter {
    animation: typewriter 3s steps(40) infinite;
  }

  .animate-particle-float {
    animation: particle-float 6s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 4s linear infinite;
  }

  .animate-spin-reverse {
    animation: spin-reverse 3s linear infinite;
  }

  /* Character-specific colors */
  .character-rick {
    --character-color: var(--portal-green);
    --character-bg: linear-gradient(45deg, hsl(var(--portal-green)), hsl(var(--portal-green-dark)));
  }

  .character-morty {
    --character-color: 48 100% 50%; /* yellow */
    --character-bg: linear-gradient(45deg, hsl(48 100% 50%), hsl(45 100% 47%));
  }

  .character-evil-morty {
    --character-color: 14 100% 57%; /* orange-red */
    --character-bg: linear-gradient(45deg, hsl(14 100% 57%), hsl(14 100% 42%));
  }

  .character-rick-prime {
    --character-color: 291 64% 42%; /* purple */
    --character-bg: linear-gradient(45deg, hsl(291 64% 42%), hsl(262 52% 47%));
  }

  /* Responsive design utilities */
  .mobile-touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Custom button variants */
  .btn-portal {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 
           shadow-lg hover:shadow-xl transition-all duration-300 
           border border-primary/20 hover:border-primary/50;
    box-shadow: 0 0 10px hsla(var(--portal-green) / 0.3);
  }

  .btn-portal:hover {
    box-shadow: 0 0 20px hsla(var(--portal-green) / 0.5);
  }

  .btn-choice {
    @apply p-4 rounded-lg border-2 transition-all duration-300 
           text-left hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-choice:focus {
    @apply ring-2 ring-primary/50 outline-none;
  }
}

/* Mobile-specific styles */
@media (max-width: 768px) {
  .mobile-optimized {
    @apply touch-pan-y;
  }
  
  /* Larger touch targets on mobile */
  button, .btn-choice {
    @apply mobile-touch-target;
  }

  /* Adjust font sizes for mobile */
  .text-responsive {
    @apply text-sm md:text-base;
  }

  .heading-responsive {
    @apply text-2xl md:text-4xl lg:text-6xl;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .portal-glow {
    box-shadow: none;
    @apply border-2 border-primary;
  }
  
  .text-glow {
    text-shadow: none;
    @apply font-bold;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .animate-portal-pulse,
  .animate-float,
  .animate-glow,
  .animate-typewriter,
  .animate-particle-float {
    animation: none;
  }
  
  * {
    transition-duration: 0.01ms !important;
  }
}

/* Print styles */
@media print {
  .glass-morphism {
    background: white !important;
    backdrop-filter: none !important;
    border: 1px solid black !important;
  }
  
  .portal-glow,
  .text-glow {
    box-shadow: none !important;
    text-shadow: none !important;
  }
}
